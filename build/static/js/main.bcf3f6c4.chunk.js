(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{18:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),i=(n(6),n(2)),u=n(17),l=n(3),m=n.n(l),f=function(){return m.a.get("/api/notes")},s=function(e){return m.a.post("/api/notes",e)},p=function(e,t){return m.a.patch("".concat("/api/notes","/").concat(e),t)},d=function(e){return m.a.delete("".concat("/api/notes","/").concat(e))},h=(n(40),function(e){var t=e.note,n=e.onChangeImportance,a=e.onDelete,c=t.important?"note-important":"";return r.a.createElement("section",{className:"note center"},r.a.createElement("header",{className:c},"Note #",t.id,r.a.createElement("div",{className:"note-btn"},r.a.createElement("a",{onClick:n,href:"#",title:"\u66f4\u6539\u91cd\u8981\u6027"},"\ud83d\udea8"),r.a.createElement("a",{onClick:a,href:"#",title:"\u5220\u9664"},"\u274c"))),r.a.createElement("main",null,r.a.createElement("p",null,t.content)),r.a.createElement("footer",null,r.a.createElement("span",null,t.date.substr(0,19))))}),E=function(e){var t=e.msg;return null===t?null:r.a.createElement("div",{className:"error"},t)},b=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),m=Object(i.a)(l,2),b=m[0],v=m[1],g=Object(a.useState)(!0),j=Object(i.a)(g,2),O=j[0],S=j[1],k=Object(a.useState)(null),w=Object(i.a)(k,2),C=w[0],N=w[1];Object(a.useEffect)((function(){f().then((function(e){o(e.data)}))}),[]);var y=function(e){N(e),setTimeout((function(){N(null)}),5e3)};return r.a.createElement("div",{class:"note-container"},r.a.createElement(E,{msg:C}),r.a.createElement("div",{className:"center note-input"},r.a.createElement("input",{id:"showAll",type:"checkbox",checked:O,onChange:function(){S(!O)}}),r.a.createElement("label",{htmlFor:"showAll"},"ShowALL"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={content:b,date:(new Date).toString(),important:Math.random()<.5};s(t).then((function(e){o([].concat(Object(u.a)(c),[e.data])),v("")}))}},r.a.createElement("input",{type:"text",value:b,onChange:function(e){v(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Add"))),c.filter((function(e){return O||e.important})).map((function(e){return r.a.createElement(h,{key:e.id,note:e,onChangeImportance:function(){return function(e){var t={important:!c.find((function(t){return t.id===e})).important};p(e,t).then((function(t){console.info(t),o(c.map((function(n){return n.id===e?t.data:n})))})).catch((function(t){y("error"),console.error("err",t),o(c.filter((function(t){return t.id!==e})))}))}(e.id)},onDelete:function(){return t=e.id,void d(t).then((function(e){o(c.filter((function(e){return e.id!==t})))})).catch((function(e){y("delete error"),console.error("delete err",e)}));var t}})})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bcf3f6c4.chunk.js.map